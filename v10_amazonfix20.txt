1. no rating initialization
liurui@ubuntu:~/DeepRec$ KERAS_BACKEND=theano python v10_2Embed_2MLPshare/MLP.py --learner adam --lr 0.0001 --batch_size_random 2000000 --path Data/amazonfix20/ 
Using Theano backend.
MLP arguments: Namespace(batch_size=256, batch_size_random=2000000, epochs=20, layers='[64,32,16,8]', learner='adam', lr=0.0001, path='Data/amazonfix20/', reg_layers='[0,0,0,0]', verbose=1) 
Load data done [137.5 s]. #user=16834, #item=30133, #train_user=6396920, #train_item=8966648, #test=944442
Time: [86.0], Init: 
Init_NDCG: [ 0.67971326  0.68106872  0.68357736  0.68691959  0.6908389   0.69593233
  0.70086584  0.70715721  0.71425993  0.72220136]
Iteration 0 [175.6 s]: rank_loss = 0.655849 [77.57 s],
NDCG: [ 0.80681391  0.80170659  0.79929866  0.79879103  0.79877395  0.80021285
  0.8022252   0.80540974  0.80931408  0.81402571]
Iteration 0 [240.7 s]: rank_loss = 0.624645 [78.00 s],
NDCG: [ 0.7987417   0.79200733  0.78924811  0.78810186  0.78910419  0.79032787
  0.79299387  0.7962957   0.80062533  0.80550289]
Iteration 1 [139.9 s]: rank_loss = 0.644398 [77.29 s],
NDCG: [ 0.79808605  0.79636511  0.79473512  0.79474748  0.79524953  0.79700146
  0.80011003  0.8035176   0.80771912  0.81255659]
Iteration 1 [305.8 s]: rank_loss = 0.610912 [83.39 s],
NDCG: [ 0.79445592  0.79353729  0.79102814  0.79137728  0.79258826  0.79431818
  0.79691368  0.80041282  0.80480248  0.8095489 ]
Iteration 2 [137.9 s]: rank_loss = 0.642625 [75.44 s],
NDCG: [ 0.79620609  0.79541299  0.7955647   0.7953905   0.79581789  0.79744485
  0.80021314  0.8036032   0.80773613  0.81264186]
Iteration 2 [283.1 s]: rank_loss = 0.609402 [74.95 s],
NDCG: [ 0.7940926   0.79264978  0.79077818  0.79067471  0.79226626  0.79425053
  0.79691756  0.80029928  0.80446667  0.80948506]
Iteration 3 [136.8 s]: rank_loss = 0.642048 [75.12 s],
NDCG: [ 0.79453998  0.79442252  0.79340872  0.79376589  0.79444227  0.79659566
  0.7995509   0.80291413  0.80713559  0.81224368]
Iteration 3 [286.8 s]: rank_loss = 0.609341 [75.06 s],
NDCG: [ 0.7922668   0.79250434  0.79182229  0.79162546  0.79261487  0.79503542
  0.79764983  0.80107316  0.80543254  0.8104658 ]
Iteration 4 [136.0 s]: rank_loss = 0.641458 [74.89 s],
NDCG: [ 0.79306013  0.79425845  0.7935846   0.7941194   0.79516817  0.79710681
  0.79966054  0.80300587  0.80718077  0.81231073]
Iteration 4 [289.0 s]: rank_loss = 0.608610 [74.46 s],
NDCG: [ 0.79168299  0.79200836  0.79177331  0.79277257  0.79307573  0.7947377
  0.7973913   0.80101948  0.80559457  0.81051454]
Iteration 5 [135.9 s]: rank_loss = 0.641067 [74.47 s],
NDCG: [ 0.79127904  0.79267159  0.79318423  0.79286674  0.79470165  0.79696139
  0.79956259  0.80284648  0.80713791  0.81226376]

2. with rating init
liurui@ubuntu:~/DeepRec$ KERAS_BACKEND=theano python v10_2Embed_2MLPshare/MLP.py --learner adam --lr 0.0001 --batch_size_random 2000000 --path Data/amazonfix20/
Using Theano backend.
MLP arguments: Namespace(batch_size=256, batch_size_random=2000000, epochs=20, layers='[64,32,16,8]', learner='adam', lr=0.0001, path='Data/amazonfix20/', reg_layers='[0,0,0,0]', verbose=1) 
Load data done [128.1 s]. #user=16834, #item=30133, #train_user=6396920, #train_item=8966648, #test=944442
Time: [75.7], Init: 
Init_NDCG: [ 0.6744183   0.67741127  0.68022548  0.68342942  0.68701407  0.69186048
  0.69721382  0.70349419  0.71075738  0.71883043]
RatingInit_NDCG: [ 0.68496757  0.68597608  0.68782857  0.69021098  0.69383747  0.69802129
  0.70313901  0.70926833  0.71598987  0.7238688 ]
Iteration 0 [150.6 s]: rank_loss = 0.655496 [82.59 s],
NDCG: [ 0.80781678  0.80355837  0.8010391   0.80000715  0.79988304  0.80098519
  0.80329062  0.80630835  0.81021967  0.81500948]
Iteration 0 [250.3 s]: rank_loss = 0.621207 [75.59 s],
NDCG: [ 0.79936027  0.79384192  0.79212913  0.79175092  0.79197218  0.79337106
  0.79567029  0.7989265   0.80315703  0.80784049]
Iteration 1 [138.4 s]: rank_loss = 0.645245 [78.83 s],
NDCG: [ 0.80037328  0.79736848  0.79651757  0.79559647  0.79659138  0.7986065
  0.80102596  0.80441676  0.80839349  0.81347861]
Iteration 1 [287.9 s]: rank_loss = 0.610575 [77.35 s],
NDCG: [ 0.79724214  0.79572755  0.79496111  0.79448438  0.79479309  0.79641543
  0.7984063   0.80166396  0.8059234   0.8110098 ]
Iteration 2 [138.8 s]: rank_loss = 0.642700 [78.05 s],
NDCG: [ 0.79957587  0.79763786  0.7961139   0.79602367  0.79666445  0.79867117
  0.80115178  0.8044853   0.80849805  0.81322211]
Iteration 2 [292.0 s]: rank_loss = 0.609293 [80.96 s],
NDCG: [ 0.79888526  0.795383    0.79375284  0.79355717  0.79406491  0.7960388
  0.79853321  0.80178174  0.80603975  0.81097271]
Iteration 3 [143.2 s]: rank_loss = 0.642089 [79.06 s],
NDCG: [ 0.79709727  0.79589301  0.79460798  0.79452089  0.79529099  0.79743378
  0.80021936  0.80358968  0.80787307  0.81288831]
Iteration 3 [299.2 s]: rank_loss = 0.609400 [318.74 s],
NDCG: [ 0.79403971  0.79454545  0.79326697  0.79314125  0.79386167  0.79582136
  0.79817686  0.80130942  0.80564002  0.81074254]
Iteration 4 [161.5 s]: rank_loss = 0.641506 [81.71 s],
NDCG: [ 0.79325175  0.79322652  0.79313057  0.79358005  0.79468766  0.79670042
  0.79941122  0.80304818  0.80710699  0.81186469]
Iteration 4 [304.7 s]: rank_loss = 0.608306 [79.75 s],
NDCG: [ 0.79179566  0.79202541  0.79211739  0.79266889  0.79331748  0.79543341
  0.79798618  0.80153042  0.8057335   0.81062895]
Iteration 5 [139.4 s]: rank_loss = 0.641158 [80.23 s],
NDCG: [ 0.79436522  0.79462898  0.79392733  0.79477314  0.79569487  0.79777852
  0.80016313  0.80347011  0.80771352  0.8126837 ]
Iteration 5 [302.7 s]: rank_loss = 0.608156 [77.87 s],
NDCG: [ 0.79253227  0.79223111  0.79157633  0.79188892  0.79295733  0.79526906
  0.79788753  0.80134402  0.80547731  0.81030387]
Iteration 6 [141.6 s]: rank_loss = 0.641139 [78.44 s],
NDCG: [ 0.79268608  0.7930439   0.79284148  0.79361966  0.7950696   0.79729087
  0.79965256  0.80331851  0.80763227  0.81253718]
Iteration 6 [296.0 s]: rank_loss = 0.607819 [77.44 s],
NDCG: [ 0.79077877  0.7908481   0.79106613  0.79162031  0.79308129  0.79547557
  0.79842901  0.80193138  0.80635911  0.81107218]
Iteration 7 [137.1 s]: rank_loss = 0.640726 [74.96 s],
NDCG: [ 0.79456378  0.79321029  0.79326668  0.79346853  0.79435138  0.79658879
  0.79971542  0.80296731  0.80739457  0.81253084]
Iteration 7 [283.8 s]: rank_loss = 0.607622 [74.40 s],
NDCG: [ 0.79098577  0.79193238  0.7907678   0.79166995  0.7929702   0.79516062
  0.79780942  0.80114724  0.80557267  0.81058059]
Iteration 8 [135.3 s]: rank_loss = 0.640761 [74.72 s],
NDCG: [ 0.79065208  0.79225604  0.79207652  0.7924358   0.79374914  0.79582661
  0.79867539  0.80224641  0.80685308  0.81198075]
Iteration 8 [282.5 s]: rank_loss = 0.607739 [74.46 s],
NDCG: [ 0.79069143  0.79050449  0.79062028  0.7912951   0.7925349   0.79458464
  0.79750748  0.80112781  0.80557423  0.81068743]
Iteration 9 [135.7 s]: rank_loss = 0.640079 [75.32 s],
NDCG: [ 0.79175478  0.79118484  0.7917006   0.79195494  0.79382047  0.79573859
  0.79855157  0.8021919   0.80655532  0.81160014]
Iteration 9 [303.3 s]: rank_loss = 0.607514 [81.02 s],
NDCG: [ 0.78990803  0.78977522  0.79033481  0.79091545  0.79234982  0.79447274
  0.79739385  0.80093126  0.80557126  0.81036496]
Iteration 10 [143.9 s]: rank_loss = 0.640089 [74.76 s],
NDCG: [ 0.79070136  0.79090801  0.79074892  0.79172885  0.79329453  0.79562024
  0.7985774   0.80201212  0.80639117  0.8114479 ]
Iteration 10 [284.5 s]: rank_loss = 0.607043 [74.63 s],
NDCG: [ 0.78824652  0.78971453  0.78994611  0.79061629  0.79221733  0.79459246
  0.79744539  0.80100911  0.80527897  0.81026156]
Iteration 11 [134.4 s]: rank_loss = 0.640154 [74.39 s],
NDCG: [ 0.79059328  0.79009413  0.79100352  0.79171727  0.79344962  0.79498495
  0.79832416  0.80211334  0.80632852  0.81141065]
Iteration 11 [284.5 s]: rank_loss = 0.607332 [78.26 s],
NDCG: [ 0.79018985  0.79051575  0.79036487  0.79155627  0.79241684  0.79462791
  0.79788922  0.80176656  0.8058141   0.81085046]
Iteration 12 [146.4 s]: rank_loss = 0.639720 [81.23 s],
NDCG: [ 0.79154451  0.79114522  0.79106029  0.79150095  0.79328307  0.79575935
  0.79865707  0.80199239  0.80630651  0.81130755]
Iteration 12 [307.1 s]: rank_loss = 0.607217 [75.22 s],
NDCG: [ 0.79115972  0.79048373  0.79046712  0.79096427  0.79235375  0.79475457
  0.79766042  0.80117797  0.80544917  0.81034023]
Iteration 13 [134.8 s]: rank_loss = 0.639697 [76.50 s],
NDCG: [ 0.79067789  0.79081702  0.79026813  0.7913503   0.79295834  0.79534243
  0.7983067   0.80188971  0.80609102  0.81120389]
Iteration 13 [287.2 s]: rank_loss = 0.606854 [74.81 s],
NDCG: [ 0.79070906  0.79050077  0.79016209  0.79102841  0.79231212  0.79458894
  0.79748868  0.80080431  0.80513153  0.81037286]
Iteration 14 [135.8 s]: rank_loss = 0.639478 [74.80 s],
NDCG: [ 0.7930852   0.79211368  0.79207142  0.7924889   0.79379988  0.79584046
  0.79860942  0.80222653  0.80680579  0.81182226]
Iteration 14 [293.3 s]: rank_loss = 0.607179 [78.94 s],
NDCG: [ 0.79195641  0.79144036  0.79076201  0.79153219  0.79253499  0.79501256
  0.79795279  0.80140813  0.80583357  0.81080836]
Iteration 15 [141.1 s]: rank_loss = 0.639678 [78.70 s],
NDCG: [ 0.79217022  0.79224565  0.79199616  0.792389    0.79407738  0.79624503
  0.7989441   0.80236105  0.80646916  0.81162697]
Iteration 15 [296.2 s]: rank_loss = 0.606844 [74.68 s],
NDCG: [ 0.78956366  0.79008115  0.79007406  0.79107397  0.7922386   0.79490936
  0.79758733  0.80120008  0.80542579  0.81056418]
Iteration 16 [136.8 s]: rank_loss = 0.639355 [74.69 s],
NDCG: [ 0.7909331   0.790729    0.79108106  0.79212527  0.79363186  0.79592783
  0.79859172  0.80206436  0.80599447  0.81111111]
Iteration 16 [287.4 s]: rank_loss = 0.606649 [76.92 s],
NDCG: [ 0.79049262  0.78992597  0.79009339  0.79057943  0.79274005  0.79450381
  0.79715955  0.800796    0.80513175  0.81018758]
Iteration 17 [142.2 s]: rank_loss = 0.639491 [79.51 s],
NDCG: [ 0.78999899  0.79089955  0.79121115  0.79149437  0.79313931  0.7952974
  0.79825417  0.80179481  0.80610888  0.811322  ]
Iteration 17 [299.1 s]: rank_loss = 0.606675 [79.58 s],
NDCG: [ 0.79044206  0.79075719  0.7897487   0.79024072  0.79205758  0.79399555
  0.79672981  0.80028284  0.80464854  0.8097628 ]
Iteration 18 [147.2 s]: rank_loss = 0.639429 [83.93 s],
NDCG: [ 0.79022102  0.79053118  0.79037459  0.79111713  0.79319146  0.7952785
  0.79806997  0.80155511  0.80609606  0.81096943]
Iteration 18 [315.7 s]: rank_loss = 0.606849 [84.29 s],
NDCG: [ 0.78877924  0.78834075  0.78882222  0.78913611  0.79084948  0.79280244
  0.79558602  0.79945228  0.80381722  0.80889114]
Iteration 19 [150.9 s]: rank_loss = 0.639408 [84.74 s],
NDCG: [ 0.78969801  0.79005607  0.79028633  0.79103407  0.79232939  0.79483991
  0.79772089  0.80107673  0.8055749   0.81058569]
Iteration 19 [314.9 s]: rank_loss = 0.606542 [84.25 s],
NDCG: [ 0.78904598  0.78927075  0.78954742  0.78962587  0.79148997  0.79378116
  0.79640249  0.80002148  0.80453241  0.80948145]
End. Best Iteration 0.


3. only for rank_u with rating init

